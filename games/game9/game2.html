<!DOCTYPE html>
<html>
<head>
	<title>Find The Value</title>
	<link rel="stylesheet" href="bootstrap-4.0.0-dist/css/bootstrap.min.css"> 
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	 <script src="bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
	


	 <style type="text/css">
	 	 #container{
	 	 	background-image: url('background1.gif'); 
	 	 	background-size: cover;
	 	 	background-repeat: no-repeat;
	 	 	border: 1px solid black;
	 	 	padding-bottom: 6%;
	 	 	padding-left: 2%;
	 	 	
	 	 }
	 	 .col{

	 	 	width: 200px;
	 	 	text-align: center;

	 	 }

	 	 #some_div{

	 	 	width: 60px;
	 	 	height: 60px;
	 	 	font-size: 60px;
	 	 	color: yellow;
	 	 	text-align: center;
	 	 	float: right;
	 	 	margin-right: 130px;
	 	 }

	 	 .btn-green-moon {
    background: #56ab2f;  /* fallback for old browsers */
    background: -webkit-linear-gradient(to right, #a8e063, #56ab2f);  /* Chrome 10-25, Safari 5.1-6 */
    background: linear-gradient(to right, #a8e063, #56ab2f); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
    color: #fff;
    border: 3px solid #eee;
    width: 80%;
    height: 100%;
    font-size: 30px;
}

.btn-rounded {
    border-radius: 35px;
}
body{
	background-color: darkgrey;
}

.cookies{
width: 350px;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: lightyellow;
  color: #000;
  text-align: center;
  border-radius: 20px;
  padding: 30px 30px 70px;

}
.progress{
			width: 250px;
			height: 30px;
			

		}

.cookiesContent {
  width: 700px;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #D2B48C;
  color: #000;
  text-align: center;
  border-radius: 20px;
  padding: 30px 30px 70px;

}



	 	

	 </style>
</head>
	<body>
	
	<div class="container-fluid" id="container">
		<h4 id="levels" style="font-family: cursive; font-style: bold; color: white; float: center">Level 1</h4>
				<div class="progress">
  						<div class="progress-bar bg-warning progress-bar-striped active" role="progressbar"  aria-valuemin="0" aria-valuemax="100" id="scoreProg" style="width: 10%">
  						</div>
				</div>
		
		<div id="life">
			
		</div>
		<center><h1 style="color: white" id="text">What is the value of </h1></center><hr><br>
		


		<div class="row" id="numbers">
			
		</div>

		
		<br><br><br><br>
	
		<div class="row" id="answers">
			

		</div>
	<div class="row mt-2">
	    <div class="col">
		    <button class="col btn btn-green-moon btn-rounded"  id="btnAns" name="1" >Green Moon</button>
		</div><br><br>
		<div class="col">
		    <button class="col btn btn-green-moon btn-rounded"  id="btnAns" name="2" >Green Moon</button>
		</div>


	</div>
<div>       <!-- Modal for Results -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
  
  <div class="container-fluid">
        <div class="cookies" id="cookiesPopup">
    
                <div id="modal_pic"></div><hr>
                <h5 id="modal_content"></h5><br>
    

                <button type="button" class="btn btn-primary" id="modalbuton" style="width: 120px;"></button>
        
        </div>
    </div>
</div>
</div>
          



	</div>

	</body>

	<script>
		
		let displayNumbers = document.getElementById('numbers');
		let randomNumber;
		let countNumber;
		let selectedNum;
		let number = 2;
		let lives = 3;
		let maxvalue = 9;
		let score = 0; 
		let total = 10;
		let level = 1;
		var cs = new Audio("Correct.mp3");//sound when answer is correct
		cs.load();
		var ics = new Audio("incorrect.wav");//sound when answer is incorrect
			ics.load();
		var win = new Audio("win.wav");//sound when answer is incorrect
			win.load();
		var wrong = new Audio("wrong.wav");//sound when answer is incorrect
			wrong.load();
			var finished = new Audio("finished.wav");//sound when answer is incorrect
			finished.load();
		var placeVal = [ "Ones", "Tens", "Hundreds","Thousands"];
		let randomZero = ["","0","00","000"];
		let ansNumber;
		let levels = document.getElementById('levels');

		

		generate();

		function generate(){

			while (displayNumbers.firstChild) {
    				displayNumbers.removeChild(displayNumbers.lastChild);
  				}

  			while (answers.firstChild) {
    				answers.removeChild(answers.lastChild);
  				}

  			let stringnum;
			selectedNum = Math.floor(Math.random() * maxvalue) + 1;
			let option = Math.floor(Math.random() * number);
			console.log(option);

			for(let i = number-1; i >= 0; i--){
				

				if (option == i) {

					let newNum = Math.floor(Math.random() * maxvalue) + 1;

				let div = document.createElement('div');
				div.setAttribute("class", "col");
				let h1 = document.createElement("h1");
				let num = document.createTextNode(selectedNum);
				h1.style.color="white";
				h1.appendChild(num);

				var img = document.createElement('img');
	            img.src = 'alien5.gif';
	            img.style.width = 100+ "px";

	            let p = document.createElement("p");
				let temp_p = document.createTextNode(placeVal[i]);
				p.style.color="white";

				ansNumber = selectedNum+randomZero[i];
				console.log(ansNumber);

				p.appendChild(temp_p);
				div.appendChild(p);
				div.appendChild(img);
				div.appendChild(h1);

				displayNumbers.appendChild(div);


				}

				else{

				let newNum = Math.floor(Math.random() * maxvalue) + 1;

				let div = document.createElement('div');
				div.setAttribute("class", "col");
				let h1 = document.createElement("h1");
				let num = document.createTextNode(newNum);
				h1.style.color="yellow";
				h1.appendChild(num);

				var img = document.createElement('img');
	            img.src = 'alien2.gif';
	            img.style.width = 100+ "px";

	            let p = document.createElement("p");
				let temp_p = document.createTextNode(placeVal[i]);
				p.style.color="white";

				p.appendChild(temp_p);
				div.appendChild(p);
				div.appendChild(img);
				div.appendChild(h1);

				displayNumbers.appendChild(div);
				}

				document.getElementById('text').innerHTML = "WHAT IS THE VALUE OF " + selectedNum;

			}


			let selectedanswer = Math.floor(Math.random() * 2);
			for(let m = 0; m <= 1; m++){

				if(selectedanswer == m ){

					// document.getElementById('btnAns')[m].innerText = ansNumber;
					document.getElementsByTagName('button')[m].innerHTML = ansNumber;


				}


				else{

					let otherAns = Math.floor(Math.random() * 2);
					let newOther = selectedNum + randomZero[otherAns];

					do{
						otherAns = Math.floor(Math.random() * 2);
						newOther = selectedNum + randomZero[otherAns];

					}while(newOther == ansNumber );
					document.getElementsByTagName('button')[m].innerHTML = 	newOther;				// document.getElementById('btnAns')[m].innerText = selectedNum + randomZero[otherAns];
				}
			}

		}

		$("button").click(function() {
    		var fired_button = $(this).text();
    		
    		$("#numbers").fadeToggle(1000);
    		console.log(fired_button);
    		if(ansNumber == fired_button){

    			win.play();
    			score++;
    			$("#numbers").fadeToggle(1000);
    			document.getElementById('scoreProg').style.width= score*10 + "%";
    			
    			
    			if (score == total && level != 5) {
    				showNextLevel();
    			}

    			else if (score == total && level == 5) {
    				finished.play();
    				finishedNa();
    			}

    			generate();
    		}

    		else{
    			wrong.play();
    			incorrectAns();
    			$("#numbers").fadeToggle(1000);
    			lives--;
    			life.removeChild(life.lastChild);
    			
    			
    			

    			if(lives == 0){
    				showLoseModal();

    				
    			}


    			generate();

    		}
    		
		});

function showNextLevel(){

	cs.play();

	if (modal_pic.childElementCount != 0) {
			modal_pic.removeChild(modal_pic.lastChild);
		}


	if(level >= 3){

	score = 0;
	level++;
	number = 4;
	

	levels.innerText = "Level "+ level;
	document.getElementById('scoreProg').style.width= score*10 + "%";
	var img = document.createElement("img");
	img.src = "alien2.gif";
	img.style.width ="100%";
	modal_pic.appendChild(img);


	document.getElementById("modalbuton").innerText="Next Level";
	document.getElementById("modal_content").innerHTML ="Congratulations! Let's go to the next Level ahu";
	var myModal = new bootstrap.Modal(document.getElementById("exampleModal"));
	myModal.show();

	generate();



	}

	else{
	score = 0;
	level++;
	number +=1;
	

	levels.innerText = "Level "+ level;
	document.getElementById('scoreProg').style.width= score*10 + "%";
	var img = document.createElement("img");
	img.src = "alien2.gif";
	img.style.width ="100%";
	modal_pic.appendChild(img);


	document.getElementById("modalbuton").innerText="Next Level";
	document.getElementById("modal_content").innerHTML ="Congratulations! Let's go to the next Level ahu";
	var myModal = new bootstrap.Modal(document.getElementById("exampleModal"));
	myModal.show();

	generate();
	}

}


function showLoseModal(){
			ics.play();
		if (modal_pic.childElementCount != 0) {
			modal_pic.removeChild(modal_pic.lastChild);
		}

			

				var img = document.createElement("img");
				img.src = "alien5.gif";
				img.style.width ="100%";
				modal_pic.appendChild(img);
				document.getElementById("modalbuton").innerText="Play agin";

				var myModal = new bootstrap.Modal(document.getElementById("exampleModal"));
				myModal.show();

				document.getElementById("modal_content").innerText= "Aww, you lose buddy.";

				// document.getElementById('score').style.width= 1+ "%";
					lives = 3;
    				score =0;
    				total = 10;
    				number = 2;
    				level =1;
    				
    				
    				levels.innerText = "Level "+ level ;
    				document.getElementById('scoreProg').style.width= score*10 + "%";
    				 	
						

    				for (var j = 0; j < lives; j++) {
	            		var img = document.createElement('img');
	           			 img.src = 'heart.gif';
	           			 img.setAttribute("class", "heart-image");
	           			 img.style.width = 4+ "%";
	            		document.getElementById('life').appendChild(img);
        			}

        			generate();
    				
			 



			
	}

function finishedNa(){
			if (modal_pic.childElementCount != 0) {
			modal_pic.removeChild(modal_pic.lastChild);

		}

				var img = document.createElement("img");
				img.src = "alien2.gif";
				img.style.width ="100%";
				modal_pic.appendChild(img);
				document.getElementById("modalbuton").innerText="Start";

				document.getElementById("modal_content").innerHTML ="WOW CONGRATS BUDDY, YOU HAVE FINISHED ALL THE CHALLENGES."
				var myModal = new bootstrap.Modal(document.getElementById("exampleModal"));
				myModal.show();


					lives = 3;
    				score =0;
    				total = 10;
    				number = 2;
    				level =1;
    				
    				
    				levels.innerText = "Level "+ level ;
    				document.getElementById('scoreProg').style.width= score*10 + "%";
    				 	
						

    				for (var j = 0; j < lives; j++) {
	            		var img = document.createElement('img');
	           			 img.src = 'heart.gif';
	           			 img.setAttribute("class", "heart-image");
	           			 img.style.width = 4+ "%";
	            		document.getElementById('life').appendChild(img);
        			}

	}

		
		
		


function incorrectAns(){
				if (modal_pic.childElementCount != 0) {
			modal_pic.removeChild(modal_pic.lastChild);
		}
				document.getElementById("modalbuton").innerText="Okay";

				document.getElementById("modal_content").innerHTML ="Aww, it's okay buddy. The correct answer is " + ansNumber;
				var myModal = new bootstrap.Modal(document.getElementById("exampleModal"));
				myModal.show();
	}


 for (var j = 0; j < lives; j++) {
	            var img = document.createElement('img');
	            img.src = 'heart.gif';
	            img.setAttribute("class", "heart-image");
	            img.style.width = 4+ "%";
	            document.getElementById('life').appendChild(img);
  }
  

	</script>


</html>